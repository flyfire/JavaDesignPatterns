![](https://ws1.sinaimg.cn/large/006tNc79ly1fg6secea1gj30gv08pgm6.jpg)

装饰器模式 _主要用于为对象动态的添加功能_。比如说，最简单的 IO 使用可能是如下代码：

```
InputStream inputStream = new FileInputStream(filePath);
```

但是我们发现，这个代码 每次进行读取都会进行 一次 IO，IO是比较耗费时间的。 那么有没有什么方法降低 IO 次数呢，自然想到了缓冲。那么此时有两种做法：

定义一个 专门用于缓冲的文件读写 stream。
为 FileInputStream 类进行扩展，让它支持 缓冲。
肯定是第二种好，为什么呢。因为如果你按照1方案，
假如我要定义一个支持X功能，此时要定义一个 专门用于这个功能的stream，这个没有问题；
假如我又要定义一个支持Y功能，此时要定义一个专门用于这个功能的stream，这个也没有问题；

但是，假如我要定义一个 同时支持 X，Y功能，由于不能扩展，所以你必须再定义一个类，同时支持X，Y功能。这个就有问题了，问题就是重复了。

但是，2 方案就能解决这个问题， 2方案中当你需要一个同时支持 X，Y 功能的类，那你动态扩展便是了，不用再新定义一个类，同时支持XY。

这个就是装饰器模式的好处。

实现思路

简单来说，实现的方式就是：假如我们要为 A类扩展一个功能X，那么我们就定义一个B类，实现了这个X的功能，创建B类的时候，再把A类的一个对象传入到B类的对象中，那么B类对象就拥有了A类对象的所有权，就可以在执行方法前后执行一些方法，用于扩展功能。

再简单一点来说，就是把 A类对象传入B类对象， B类对象都有了A类对象了，那干什么不行。扩展功能自然不在话下。